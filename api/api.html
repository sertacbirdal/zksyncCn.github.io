<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://era.zksync.io/docs/api/api.html"><meta property="og:site_name" content="Welcome to our Docs | zkSync Era"><meta property="og:title" content="Web3 API"><meta property="og:description" content="zkSync Era完全支持标准的Ethereum JSON-RPC API (https://ethereum.org/en/developers/docs/apis/json-rpc/)，并增加了一些L2特有的功能。 只要代码不涉及部署新的智能合约（它们只能使用EIP712交易部署，[下文]（#eip712）），_就不需要改变代码库。 可以继续使用..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-03-08T09:17:56.000Z"><meta property="og:locale" content="en-US"><meta property="article:modified_time" content="2023-03-08T09:17:56.000Z"><link rel="canonical" href="https://era.zksync.io/docs/"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"><meta name="keywords" content="Documentation, Developers, Era, zkSync, Matter Labs, rollup, ZK rollup, zero confirmation, ZKP, zero-knowledge proofs, Ethereum, crypto, blockchain, permissionless, L2, secure payments, scalable"><meta name="description" content="zkSync Era is a user-centric zk rollup platform from Matter Labs. It is a scaling solution for Ethereum, already live on Ethereum mainnet"><meta name="author" content="https://matter-labs.io"><meta name="og:image" content="/docs/share_image.png"><meta name="og:image:secure_url" content="/docs/share_image.png"><meta name="og:url" content="https://era.zksync.io/docs/"><meta name="og:image:alt" content="zkSync — Accelerating the mass adoption of crypto for personal sovereignty"><meta name="og:title" content="Welcome to our Docs | zkSync Era"><meta name="og:description" content="zkSync Era is a user-centric zk rollup platform from Matter Labs. It is a scaling solution for Ethereum, already live on Ethereum mainnet."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Welcome to our Docs | zkSync Era"><meta name="twitter:description" content="zkSync Era is a user-centric zk rollup platform from Matter Labs. It is a scaling solution for Ethereum, already live on Ethereum mainnet."><meta name="twitter:image" content="/docs/share_image.png"><meta name="twitter:site" content="@zksync"><meta name="twitter:creator" content="@the_matter_labs"><meta name="twitter:image:alt" content="zkSync — Accelerating the mass adoption of crypto for personal sovereignty"><link rel="apple-touch-icon" sizes="180x180" href="/docs/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/docs/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/docs/favicon-16x16.png"><link rel="manifest" href="/docs/site.webmanifest"><link rel="mask-icon" href="/docs/safari-pinned-tab.svg" color="#1E69FF"><link rel="shortcut icon" href="/docs/favicon.ico"><meta name="msapplication-TileColor" content="#1E69FF"><meta name="msapplication-config" content="/docs/browserconfig.xml"><meta name="theme-color" content="#1E69FF"><title>Web3 API | Welcome to our Docs | zkSync Era</title>
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/docs/assets/style-ff18934e.css" as="style"><link rel="stylesheet" href="/docs/assets/style-ff18934e.css">
    <link rel="modulepreload" href="/docs/assets/app-4f45c735.js"><link rel="modulepreload" href="/docs/assets/framework-674379d2.js"><link rel="modulepreload" href="/docs/assets/api.html-54c2d072.js"><link rel="modulepreload" href="/docs/assets/api.html-c425f216.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/docs/" class="brand"><img class="logo" src="/docs/zk-sync-era-line-light.svg" alt="Welcome to our Docs | zkSync Era"><!----><span class="site-name hide-in-pad">Welcome to our Docs | zkSync Era</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link" aria-label="Home"><!---->Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/dev/" class="nav-link" aria-label="开发文档"><!---->开发文档<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/api/" class="nav-link active" aria-label="Tools and SDK"><!---->Tools and SDK<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/contact.html" class="nav-link" aria-label="联系方式"><!---->联系方式<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="版本"><span class="title"><!---->版本</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/docs/dev/" class="nav-link" aria-label="zkSync Era"><!---->zkSync Era<!----></a></li><li class="dropdown-item"><a href="https://docs.zksync.io" rel="noopener noreferrer" target="_blank" aria-label="zkSync Lite" class="nav-link"><!---->zkSync Lite<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/matter-labs/zksync-web-v2-docs" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><div id="docsearch-container"></div><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/docs/api/" class="nav-link sidebar-link sidebar-page" aria-label="概述"><!---->概述<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/api/api.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Web3 API"><!---->Web3 API<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#eip712" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="EIP712"><!---->EIP712<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zksync特定的json-rpc方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zkSync特定的JSON-RPC方法"><!---->zkSync特定的JSON-RPC方法<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-getmaincontract" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getMainContract"><!---->zks_getMainContract<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-l1chainid" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_L1ChainId"><!---->zks_L1ChainId<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-getconfirmedtokens" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getConfirmedTokens"><!---->zks_getConfirmedTokens<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-getl2tol1logproof" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getL2ToL1LogProof"><!---->zks_getL2ToL1LogProof<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-getl2tol1msgproof" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getL2ToL1MsgProof"><!---->zks_getL2ToL1MsgProof<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-getbridgecontracts" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getBridgeContracts"><!---->zks_getBridgeContracts<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-5" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-5" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-gettestnetpaymaster" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getTestnetPaymaster"><!---->zks_getTestnetPaymaster<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#zks-getblockdetails" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="zks_getBlockDetails"><!---->zks_getBlockDetails<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#input-parameters-7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Input parameters"><!---->Input parameters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#output-format-7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output format"><!---->Output format<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/api/api.html#pubsub-api" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PubSub API"><!---->PubSub API<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/js" class="title">JavaScript SDK</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/js/getting-started.html" class="nav-link sidebar-link sidebar-page" aria-label="开始工作"><!---->开始工作<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/providers.html" class="nav-link sidebar-link sidebar-page" aria-label="提供者"><!---->提供者<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/accounts.html" class="nav-link sidebar-link sidebar-page" aria-label="账户：概述"><!---->账户：概述<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/accounts-l1-l2.html" class="nav-link sidebar-link sidebar-page" aria-label="账户。L1-&gt;L2交易"><!---->账户。L1-&gt;L2交易<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/contracts.html" class="nav-link sidebar-link sidebar-page" aria-label="Contracts"><!---->Contracts<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/features.html" class="nav-link sidebar-link sidebar-page" aria-label="zkSync时代的特点"><!---->zkSync时代的特点<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/utils.html" class="nav-link sidebar-link sidebar-page" aria-label="实用工具"><!---->实用工具<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/types.html" class="nav-link sidebar-link sidebar-page" aria-label="类型"><!---->类型<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/js/front-end.html" class="nav-link sidebar-link sidebar-page" aria-label="前端整合"><!---->前端整合<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/python" class="title">Python SDK</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/python/getting-started.html" class="nav-link sidebar-link sidebar-page" aria-label="快速开始"><!---->快速开始<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/python/providers.html" class="nav-link sidebar-link sidebar-page" aria-label="提供者"><!---->提供者<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/python/accounts.html" class="nav-link sidebar-link sidebar-page" aria-label="账户：概述"><!---->账户：概述<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/python/accounts-l1-l2.html" class="nav-link sidebar-link sidebar-page" aria-label="账户。L1-&gt;L2交易"><!---->账户。L1-&gt;L2交易<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/python/contract-interface.html" class="nav-link sidebar-link sidebar-page" aria-label="合约接口"><!---->合约接口<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/python/types.html" class="nav-link sidebar-link sidebar-page" aria-label="类型"><!---->类型<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/java/getting-started.html" class="title">Java SDK</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/java/getting-started.html" class="nav-link sidebar-link sidebar-page" aria-label="开始工作"><!---->开始工作<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/go/getting-started.html" class="title">GO SDK</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/go/getting-started.html" class="nav-link sidebar-link sidebar-page" aria-label="开始工作"><!---->开始工作<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/swift/getting-started.html" class="title">Swift SDK</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/swift/getting-started.html" class="nav-link sidebar-link sidebar-page" aria-label="开始工作"><!---->开始工作<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/swift/providers.html" class="nav-link sidebar-link sidebar-page" aria-label="提供者"><!---->提供者<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/hardhat" class="title">Hardhat</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/hardhat/getting-started.html" class="nav-link sidebar-link sidebar-page" aria-label="开始使用"><!---->开始使用<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/migrating-to-zksync.html" class="nav-link sidebar-link sidebar-page" aria-label="迁移指南"><!---->迁移指南<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/plugins.html" class="nav-link sidebar-link sidebar-page" aria-label="zkSync Era工具箱"><!---->zkSync Era工具箱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/hardhat-zksync-solc.html" class="nav-link sidebar-link sidebar-page" aria-label="`hardhat-zksync-solc"><!---->`hardhat-zksync-solc<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/hardhat-zksync-vyper.html" class="nav-link sidebar-link sidebar-page" aria-label="`hardhat-zksync-vyper&#39;。"><!---->`hardhat-zksync-vyper&#39;。<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/hardhat-zksync-deploy.html" class="nav-link sidebar-link sidebar-page" aria-label="hardhat-zksync-deploy"><!---->hardhat-zksync-deploy<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/hardhat-zksync-chai-matchers.html" class="nav-link sidebar-link sidebar-page" aria-label="`hardhat-zksync-chai-matchers&#39;。"><!---->`hardhat-zksync-chai-matchers&#39;。<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/hardhat-zksync-verify.html" class="nav-link sidebar-link sidebar-page" aria-label="hardhat-zksync-verify ．"><!---->hardhat-zksync-verify ．<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/testing.html" class="nav-link sidebar-link sidebar-page" aria-label="本地测试"><!---->本地测试<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/hardhat/compiling-libraries.html" class="nav-link sidebar-link sidebar-page" aria-label="编译不可连接的库"><!---->编译不可连接的库<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/tools/block-explorer" class="title">Block Explorer</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/api/tools/block-explorer/intro.html" class="nav-link sidebar-link sidebar-page" aria-label="使用区块浏览器"><!---->使用区块浏览器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/tools/block-explorer/block-view.html" class="nav-link sidebar-link sidebar-page" aria-label="浏览区块"><!---->浏览区块<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/tools/block-explorer/search.html" class="nav-link sidebar-link sidebar-page" aria-label="The search bar"><!---->The search bar<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/api/tools/block-explorer/contract-verification.html" class="nav-link sidebar-link sidebar-page" aria-label="合约验证"><!---->合约验证<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/api/tools/zksync-cli/" class="title">zkSync Era CLI</a><!----></p><ul class="sidebar-links"></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Web3 API</h1><div class="page-info"><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#eip712" class="router-link-active router-link-exact-active toc-link level2">EIP712</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zksync特定的json-rpc方法" class="router-link-active router-link-exact-active toc-link level2">zkSync特定的JSON-RPC方法</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-getmaincontract" class="router-link-active router-link-exact-active toc-link level3">zks_getMainContract</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-l1chainid" class="router-link-active router-link-exact-active toc-link level3">zks_L1ChainId</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-1" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-1" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-getconfirmedtokens" class="router-link-active router-link-exact-active toc-link level3">zks_getConfirmedTokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-2" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-2" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-getl2tol1logproof" class="router-link-active router-link-exact-active toc-link level3">zks_getL2ToL1LogProof</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-3" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-3" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-getl2tol1msgproof" class="router-link-active router-link-exact-active toc-link level3">zks_getL2ToL1MsgProof</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-4" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-4" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-getbridgecontracts" class="router-link-active router-link-exact-active toc-link level3">zks_getBridgeContracts</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-5" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-5" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-gettestnetpaymaster" class="router-link-active router-link-exact-active toc-link level3">zks_getTestnetPaymaster</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-6" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-6" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#zks-getblockdetails" class="router-link-active router-link-exact-active toc-link level3">zks_getBlockDetails</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#input-parameters-7" class="router-link-active router-link-exact-active toc-link level3">Input parameters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#output-format-7" class="router-link-active router-link-exact-active toc-link level3">Output format</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/api/api.html#pubsub-api" class="router-link-active router-link-exact-active toc-link level2">PubSub API</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="web3-api" tabindex="-1"><a class="header-anchor" href="#web3-api" aria-hidden="true">#</a> Web3 API</h1><p>zkSync Era完全支持标准的<a href="https://ethereum.org/en/developers/docs/apis/json-rpc/" target="_blank" rel="noopener noreferrer">Ethereum JSON-RPC API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，并增加了一些L2特有的功能。</p><p>只要代码不涉及部署新的智能合约（它们只能使用EIP712交易部署，[下文]（#eip712）），_就不需要改变代码库。</p><p>可以继续使用目前正在使用的SDK。用户将继续以ETH支付费用，并且用户体验将与以太坊上的用户体验相同。</p><p>然而，zkSync Era有其特殊性，本节介绍。</p><h2 id="eip712" tabindex="-1"><a class="header-anchor" href="#eip712" aria-hidden="true">#</a> EIP712</h2><p>为了指定额外的字段，如自定义账户的自定义签名或选择支付方，应使用EIP712交易。这些交易具有与标准Ethereum交易相同的字段，但它们也有包含额外的L2特定数据的字段（`paymaster&#39;，等等）。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;gasPerPubdata&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1212&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;customSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x...&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;paymasterParams&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;paymaster&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x...&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;paymasterInput&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x...&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;factoryDeps&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;0x...&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>gasPerPubdata&quot;: 是一个字段，描述用户愿意为一个字节的pubdata支付的最大气体量。</li><li><code>customSignature</code>是一个带有自定义签名的字段，以防签名者的账户不是EOA。</li><li><code>paymasterParams</code>是一个包含参数的字段，用于配置交易的自定义付款人。支付系统的地址和调用它的编码输入在支付系统参数中。</li><li><code>factory_deps</code>是一个字段，应该是一个非空的`字节&#39;数组。对于部署交易，它应该包含被部署合同的字节码。如果被部署的合同是一个工厂合同，即它可以部署其他合同，该数组还应该包含可以被它部署的合同的字节码。</li></ul><p>为了让服务器识别EIP712交易，<code>transaction_type</code>字段等于<code>113</code>（不幸的是，数字<code>712</code>不能被用作<code>transaction_type</code>，因为类型必须是一个字节长）。</p><p>用户不签署RLP编码的交易，而是签署以下类型的EIP712结构。</p><table><thead><tr><th>Field name</th><th>Type</th></tr></thead><tbody><tr><td>txType</td><td><code>uint256</code></td></tr><tr><td>from</td><td><code>uint256</code></td></tr><tr><td>to</td><td><code>uint256</code></td></tr><tr><td>gasLimit</td><td><code>uint256</code></td></tr><tr><td>gasPerPubdataByteLimit</td><td><code>uint256</code></td></tr><tr><td>maxFeePerGas</td><td><code>uint256 </code></td></tr><tr><td>maxPriorityFeePerGas</td><td><code>uint256</code></td></tr><tr><td>paymaster</td><td><code>uint256</code></td></tr><tr><td>nonce</td><td><code>uint256</code></td></tr><tr><td>value</td><td><code>uint256</code></td></tr><tr><td>data</td><td><code>bytes</code></td></tr><tr><td>factoryDeps</td><td><code>bytes32[]</code></td></tr><tr><td>paymasterInput</td><td><code>bytes</code></td></tr></tbody></table><p>这些字段由我们的<a href="/docs/api/js/features.html" class="">SDK</a>方便地处理。</p><h2 id="zksync特定的json-rpc方法" tabindex="-1"><a class="header-anchor" href="#zksync特定的json-rpc方法" aria-hidden="true">#</a> zkSync特定的JSON-RPC方法</h2><p>所有zkSync特定的方法都位于<code>zks_</code>命名空间中。API也可以提供这里提供的方法之外的其他方法。这些方法将由团队内部使用，并且非常不稳定。</p><div class="hint-container warning"><p class="hint-container-title">Note</p><p>请注意，Metamask不支持zks_命名空间的方法，我们正在努力在未来支持它，另外，你可以使用testnet RPC的<code>Provider</code>类，而不是依赖Metamask的注入提供者。</p></div><!-- ### `zks_estimateFee`。

返回交易的费用。计算费用的令牌是根据提供的交易中的`fee_token'返回的。

#### Input parameters

| Parameter | Type          | Description                                                  |
| --------- | ------------- | ------------------------------------------------------------ |
| req       | `CallRequest` | The zkSync transaction for which the fee should be estimated |

#### Output format

```json
{
  "gas_limit": 100000000,
  "max_fee_per_gas": 10000,
  "max_priority_fee_per_gas": 100,
  "gas_per_pubdata_limit": 10
}
``` --><h3 id="zks-getmaincontract" tabindex="-1"><a class="header-anchor" href="#zks-getmaincontract" aria-hidden="true">#</a> <code>zks_getMainContract</code></h3><p>返回zkSync Era合约的地址。</p><h3 id="input-parameters" tabindex="-1"><a class="header-anchor" href="#input-parameters" aria-hidden="true">#</a> Input parameters</h3><p>None.</p><h3 id="output-format" tabindex="-1"><a class="header-anchor" href="#output-format" aria-hidden="true">#</a> Output format</h3><p><code>&quot;0xaBEA9132b05A70803a4E85094fD0e1800777fBEF&quot;</code></p><h3 id="zks-l1chainid" tabindex="-1"><a class="header-anchor" href="#zks-l1chainid" aria-hidden="true">#</a> <code>zks_L1ChainId</code></h3><p>返回底层L1的链ID。</p><h3 id="input-parameters-1" tabindex="-1"><a class="header-anchor" href="#input-parameters-1" aria-hidden="true">#</a> Input parameters</h3><p>None.</p><h3 id="output-format-1" tabindex="-1"><a class="header-anchor" href="#output-format-1" aria-hidden="true">#</a> Output format</h3><p><code>12</code></p><h3 id="zks-getconfirmedtokens" tabindex="-1"><a class="header-anchor" href="#zks-getconfirmedtokens" aria-hidden="true">#</a> <code>zks_getConfirmedTokens</code></h3><p>给定<code>from</code>和<code>limit</code>，返回ID在<code>[from...from+limit-1]</code>区间内的确认令牌的信息。&quot;确认 &quot;在这里是个错误的词，因为确认的令牌已经通过默认的zkSync Era桥接了。</p><p>代币是按照符号的字母顺序返回的，所以一个代币的id只是它在一个按照符号排序的代币数组中的位置。</p><h3 id="input-parameters-2" tabindex="-1"><a class="header-anchor" href="#input-parameters-2" aria-hidden="true">#</a> Input parameters</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>from</td><td><code>uint32</code></td><td>The token id from which to start returning the information about the tokens.</td></tr><tr><td>limit</td><td><code>uint8</code></td><td>The number of tokens to be returned from the API.</td></tr></tbody></table><h3 id="output-format-2" tabindex="-1"><a class="header-anchor" href="#output-format-2" aria-hidden="true">#</a> Output format</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;decimals&quot;</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;symbol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xd2255612f9b045e9c81244bb874abb413ca139a3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;decimals&quot;</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TrueUSD&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;symbol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TUSD&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xd35cceead182dcee0f148ebac9447da2c4d449c4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;decimals&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD Coin (goerli)&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;symbol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDC&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="zks-getl2tol1logproof" tabindex="-1"><a class="header-anchor" href="#zks-getl2tol1logproof" aria-hidden="true">#</a> <code>zks_getL2ToL1LogProof</code></h3><p>给定一个交易哈希值，以及在该交易中产生的L2到L1日志的索引，它返回相应的L2到L1日志的证明。</p><p>可以从交易收据中获得的日志索引（它包括交易产生的每个日志的列表）。</p><h3 id="input-parameters-3" tabindex="-1"><a class="header-anchor" href="#input-parameters-3" aria-hidden="true">#</a> Input parameters</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tx_hash</td><td><code>bytes32</code></td><td>Hash of the L2 transaction the L2 to L1 log was produced within.</td></tr><tr><td>l2_to_l1_log_index</td><td><code>undefined</code> | <code>number</code></td><td>The Index of the L2 to L1 log in the transaction.</td></tr></tbody></table><h3 id="output-format-3" tabindex="-1"><a class="header-anchor" href="#output-format-3" aria-hidden="true">#</a> Output format</h3><p>如果没有这样的消息，返回值为<code>null</code>。</p><p>否则，将返回以下格式的对象。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;proof&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;0x66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0x2eeb74a6177f588d80c0c752b99556902ddf9682d0b906f5aa2adbaf8466a4e9&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0x1223349a40d2ee10bd1bebb5889ef8018c8bc13359ed94b387810af96c6e4268&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0x5b82b695a7ac2668e188b75f7d4fa79faa504117d1fdfcbe8a46915c1a8a5191&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x6a420705824f0a3a7e541994bc15e14e6a8991cd4e4b2d35c66f6e7647760d97&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>id</code>是该区块在L2-&gt;L1消息的Merkle树中的叶子的位置。<code>proof</code>是该信息的Merkle证明，而<code>root</code>是L2-&gt;L1信息的Merkle树的根。请注意，Merkle树使用_sha256_的树。</p><p>你不需要关心本征，因为返回的<code>id</code>和<code>proof</code>可以立即用于与zkSync Era智能合约的交互。</p><p>通过我们的SDK使用这个端点的一个很好的例子可以找到[这里]（.../dev/developer-guides/bridging/l2-l1.md）。</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>事务产生的L2到L1的日志列表，包含在收据中，是由L1Messenger合约或其他系统合约/bootloader产生的日志的组合。</p><p>有一个由bootloader为每个L1起源的交易产生的日志，显示交易是否成功。</p></div><h3 id="zks-getl2tol1msgproof" tabindex="-1"><a class="header-anchor" href="#zks-getl2tol1msgproof" aria-hidden="true">#</a> <code>zks_getL2ToL1MsgProof</code></h3><p>给定一个区块、一个发件人、一个消息和一个包含L1-&gt;L2消息的区块中的可选消息日志索引，它返回通过L1Messenger系统合同发送的消息的证明。</p><h3 id="input-parameters-4" tabindex="-1"><a class="header-anchor" href="#input-parameters-4" aria-hidden="true">#</a> Input parameters</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>block</td><td><code>uint32</code></td><td>The number of the block where the message was emitted.</td></tr><tr><td>sender</td><td><code>address</code></td><td>The sender of the message (i.e. the account that called the L1Messenger system contract).</td></tr><tr><td>msg</td><td><code>bytes32</code></td><td>The keccak256 hash of the sent message.</td></tr><tr><td>l2_log_position</td><td><code>uint256</code> | <code>null</code></td><td>The index in the block of the event that was emitted by the <a href="/docs/dev/developer-guides/system-contracts.html#l1messenger" class="">L1Messenger</a> when submitting this message. If it is omitted, the proof for the first message with such content will be returned.</td></tr></tbody></table><h3 id="output-format-4" tabindex="-1"><a class="header-anchor" href="#output-format-4" aria-hidden="true">#</a> Output format</h3><p>与<a href="#zks-getl2tol1logproof">zks_getL2ToL1LogProof</a>中相同。</p><div class="hint-container warning"><p class="hint-container-title">Note</p><p><code>zks_getL2ToL1MsgProof</code>端点将被废弃，因为L2到L1消息的证明也可以从<code>zks_getL2ToL1LogProof</code>获取。</p></div><h3 id="zks-getbridgecontracts" tabindex="-1"><a class="header-anchor" href="#zks-getbridgecontracts" aria-hidden="true">#</a> <code>zks_getBridgeContracts</code></h3><p>返回默认网桥的L1/L2地址。</p><h3 id="input-parameters-5" tabindex="-1"><a class="header-anchor" href="#input-parameters-5" aria-hidden="true">#</a> Input parameters</h3><p>None.</p><h3 id="output-format-5" tabindex="-1"><a class="header-anchor" href="#output-format-5" aria-hidden="true">#</a> Output format</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;l1Erc20DefaultBridge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7786255495348c08f82c09c82352019fade3bf29&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;l1EthDefaultBridge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xcbebcd41ceabbc85da9bb67527f58d69ad4dfff5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;l2Erc20DefaultBridge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x92131f10c54f9b251a5deaf3c05815f7659bbe02&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;l2EthDefaultBridge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x2c5d8a991f399089f728f1ae40bd0b11acd0fb62&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="zks-gettestnetpaymaster" tabindex="-1"><a class="header-anchor" href="#zks-gettestnetpaymaster" aria-hidden="true">#</a> <code>zks_getTestnetPaymaster</code></h3><p>返回<a href="/docs/api/.../dev/developer-guides/aa.html#testnet-paymaster" class="">testnet paymaster</a>的地址：在testnets上可用的paymaster，可以用ERC-20兼容代币支付费用。</p><h3 id="input-parameters-6" tabindex="-1"><a class="header-anchor" href="#input-parameters-6" aria-hidden="true">#</a> Input parameters</h3><p>None.</p><h3 id="output-format-6" tabindex="-1"><a class="header-anchor" href="#output-format-6" aria-hidden="true">#</a> Output format</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token string">&quot;0x7786255495348c08f82c09c82352019fade3bf29&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="zks-getblockdetails" tabindex="-1"><a class="header-anchor" href="#zks-getblockdetails" aria-hidden="true">#</a> <code>zks_getBlockDetails</code></h3><p>返回关于L2块的其他ZkSync特定信息。</p><h3 id="input-parameters-7" tabindex="-1"><a class="header-anchor" href="#input-parameters-7" aria-hidden="true">#</a> Input parameters</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>block</td><td><code>uint32</code></td><td>The number of the block.</td></tr></tbody></table><h3 id="output-format-7" tabindex="-1"><a class="header-anchor" href="#output-format-7" aria-hidden="true">#</a> Output format</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;commitTxHash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x2c8f18312c6b6c2e72df56dd5684e3c65fcdf5f6141763eafdcbbfc02c3a39b5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;committedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-12-12T08:41:50.774441Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;executeTxHash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xa12f3a9689101758acad280dd21a00cfc2644c125702ea301f46a33799cde9b9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;executedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-12-12T08:41:57.233941Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;l1TxCount&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;l2TxCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;proveTxHash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0fed6d8a7b02a26b5513edea10d8849342b56a13c0e48317556c78b34aeacd26&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;provenAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-12-12T08:41:57.219584Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rootHash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x51f81bcdfc324a0dff2b5bec9d92e21cbebc4d5e29d3a3d30de3e03fbeab8d7f&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1670834504</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!-- TODO: uncomment once fixed ---><!-- ### `zks_getTokenPrice`

给定一个代币地址，返回它的价格（美元）。请注意，这是zkSync团队使用的价格，可能与当前的市场价格有一些不同。在测试网络上，代币价格可能与实际市场价格有很大差异。

### Input parameters

| Parameter | Type   | Description              |
| --------- | ------ | ------------------------ |
| address   | `address` | The address of the token. |

### Output format

`3500.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000` --><!--

#[rpc(name = "zks_getConfirmedTokens", returns = "Vec<Token>")]
fn get_confirmed_tokens(&self, from: u32, limit: u8) -> BoxFutureResult<Vec<Token>>;

#[rpc(name = "zks_isTokenLiquid", returns = "bool")]
fn is_token_liquid(&self, token_address: Address) -> BoxFutureResult<bool>;

#[rpc(name = "zks_getTokenPrice", returns = "BigDecimal")]
fn get_token_price(&self, token_address: Address) -> BoxFutureResult<BigDecimal>;

#[rpc(name = "zks_setContractDebugInfo", returns = "bool")]
fn set_contract_debug_info(
    &self,
    contract_address: Address,
    info: ContractSourceDebugInfo,
) -> BoxFutureResult<bool>;

#[rpc(name = "zks_getContractDebugInfo", returns = "ContractSourceDebugInfo")]
fn get_contract_debug_info(
    &self,
    contract_address: Address,
) -> BoxFutureResult<Option<ContractSourceDebugInfo>>;

#[rpc(name = "zks_getTransactionTrace", returns = "Option<VmDebugTrace>")]
fn get_transaction_trace(&self, hash: H256) -> BoxFutureResult<Option<VmDebugTrace>>;





Documented:
#[rpc(name = "zks_estimateFee", returns = "Fee")]
fn estimate_fee(&self, req: CallRequest) -> BoxFutureResult<Fee>;

#[rpc(name = "zks_getMainContract", returns = "Address")]
fn get_main_contract(&self) -> BoxFutureResult<Address>;

#[rpc(name = "zks_L1ChainId", returns = "U64")]
fn l1_chain_id(&self) -> Result<U64>;

#[rpc(name = "zks_getL1WithdrawalTx", returns = "Option<H256>")]
fn get_eth_withdrawal_tx(&self, withdrawal_hash: H256) -> BoxFutureResult<Option<H256>>;



不想记录（至少现在是这样）:

### `zks_getAccountTransactions`

### Input parameters

| Parameter | Type      | Description                                           |
| --------- | --------- | ----------------------------------------------------- |
| address   | `Address` | The address of the account                            |
| before    | `u32`     | The offset from which to start returning transactions |
| limit     | `u8`      | The maximum number of transactions to be returned     |





--><h2 id="pubsub-api" tabindex="-1"><a class="header-anchor" href="#pubsub-api" aria-hidden="true">#</a> PubSub API</h2><p>zkSync与<a href="https://geth.ethereum.org/docs/interacting-with-geth/rpc/pubsub" target="_blank" rel="noopener noreferrer">Geth的pubsub API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>完全兼容，除了<code>同步</code>的订阅。这是因为zkSync网络上的节点在技术上总是同步的。</p><p>WebSocket URL是<code>wss://zksync2-testnet.zksync.dev/ws</code>。</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>你可以使用websocket端点来处理智能合约事件，如<a href="/docs/api/.../dev/building-on-zksync/events.html" class="">本节文档</a>所详述。</p></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/matter-labs/zksync-web-v2-docs/edit/main/docs/api/api.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: bkrofegha@gmail.com">Blessing Krofegha</span>,<!--]--><!--[--><span class="contributor" title="email: stanislavbezkor@gmail.com">Stanislav Bezkorovainyi</span>,<!--]--><!--[--><span class="contributor" title="email: aug@matterlabs.dev">Antonio</span>,<!--]--><!--[--><span class="contributor" title="email: 53865202+perekopskiy@users.noreply.github.com">perekopskiy</span>,<!--]--><!--[--><span class="contributor" title="email: 72273339+AnastasiiaVashchuk@users.noreply.github.com">AnastasiiaVashchuk</span>,<!--]--><!--[--><span class="contributor" title="email: 280611875@qq.com">Newbee740</span>,<!--]--><!--[--><span class="contributor" title="email: 35497694+barakshani@users.noreply.github.com">barakshani</span>,<!--]--><!--[--><span class="contributor" title="email: 91175836+botdad@users.noreply.github.com">botdad</span>,<!--]--><!--[--><span class="contributor" title="email: coogan.brennan@gmail.com">cooganb</span>,<!--]--><!--[--><span class="contributor" title="email: 73983677+omahs@users.noreply.github.com">omahs</span>,<!--]--><!--[--><span class="contributor" title="email: Roman.Brodetski@gmail.com">Roman Brodetski</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/docs/api/" class="nav-link active prev" aria-label="概述"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><!---->概述</div></a><a href="/docs/api/js" class="nav-link next" aria-label="JavaScript SDK"><div class="hint">Next<span class="arrow right"></span></div><div class="link">JavaScript SDK<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Made with ❤️ by <a href='https://matter-labs.io/'> Matter Labs</a></div><!----></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/docs/assets/app-4f45c735.js" defer></script>
  </body>
</html>
