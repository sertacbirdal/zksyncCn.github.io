(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{448:function(t,s,a){"use strict";a.r(s);var n=a(32),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting started")]),t._v(" "),a("p",[t._v("In this guide we will demonstrate how to:")]),t._v(" "),a("ol",[a("li",[t._v("Connect to the zkSync network.")]),t._v(" "),a("li",[t._v("Deposit assets from Ethereum into zkSync.")]),t._v(" "),a("li",[t._v("Check balances.")]),t._v(" "),a("li",[t._v("Transfer and withdraw funds (native and ERC20 tokens).")]),t._v(" "),a("li",[t._v("Deploy a smart contract.")]),t._v(" "),a("li",[t._v("Deploy a smart contract with create2.")])]),t._v(" "),a("h2",{attrs:{id:"prerequisite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisite"}},[t._v("#")]),t._v(" Prerequisite")]),t._v(" "),a("p",[t._v("This guide assumes that you are familiar with "),a("a",{attrs:{href:"https://docs.python.org/3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python"),a("OutboundLink")],1),t._v(" programming language.")]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("p",[t._v("To install the SDK with the "),a("code",[t._v("pip install")]),t._v(" command, run the following:")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\npip install zksync2\n\n")])])]),a("h2",{attrs:{id:"instantiating-the-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#instantiating-the-sdk"}},[t._v("#")]),t._v(" Instantiating the SDK")]),t._v(" "),a("p",[t._v("To start using this SDK, you just need to pass in a provider configuration.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Web3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n\nURL_TO_ETH_NETWORK "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GOERLI_HTTPS_RPC"')]),t._v("\nZKSYNC_NETWORK_URL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://zksync2-testnet.zksync.dev"')]),t._v("\n\neth_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HTTPProvider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("URL_TO_ETH_NETWORK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nzkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"ethereum-signer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ethereum-signer"}},[t._v("#")]),t._v(" Ethereum signer")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("⚠️ Never commit private keys to file tracking history, or your account could be compromised.")])]),t._v(" "),a("p",[t._v("Ethereum signer is represented by the "),a("code",[t._v("PrivateKeyEthSigner")]),t._v(" abstract class from "),a("code",[t._v("zkSync2.signer.eth_signer")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_signer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PrivateKeyEthSigner\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n\nPRIVATE_KEY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"YOUR_PRIVATE_KEY"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\naccount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PRIVATE_KEY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsigner "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PrivateKeyEthSigner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"depositing-funds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#depositing-funds"}},[t._v("#")]),t._v(" Depositing funds")]),t._v(" "),a("p",[t._v("This example shows how to deposit funds into an address.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Web3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("middleware "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" geth_poa_middleware\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manage_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gas_provider "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" StaticGasProvider\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Token\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_provider "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" EthereumProvider\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deposit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#geth_poa_middleware is used to connect to geth --dev.")]),t._v("\n    eth_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("middleware_onion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("geth_poa_middleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" layer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#calculate  gas fees")]),t._v("\n    gas_provider "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" StaticGasProvider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toWei"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gwei"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("555000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Create the ethereum provider for interacting with ethereum node, initialize zkSync signer and deposit funds.")]),t._v("\n    eth_provider "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" EthereumProvider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build_ethereum_provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                            eth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("eth_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                            account"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                            gas_provider"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gas_provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_receipt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" eth_provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deposit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_eth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                    eth_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toWei"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"YOUR_AMOUNT_OF_ETH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ether"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Show the output of the transaction details.")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"tx status: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    deposit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"checking-balance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checking-balance"}},[t._v("#")]),t._v(" Checking balance")]),t._v(" "),a("p",[t._v("This example shows how to check your balance on the zkSync network.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" EthBlockParams\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_account_balance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://zkSync2-testnet.zkSync.dev'")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_PRIVATE_KEY'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zk_balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_balance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EthBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LATEST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"zkSync balance: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("zk_balance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    get_account_balance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"performing-a-transfer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#performing-a-transfer"}},[t._v("#")]),t._v(" Performing a transfer")]),t._v(" "),a("p",[t._v("This example shows how to execute a transfer from one account to another, on the zkSync network.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_typing "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HexStr\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Web3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request_types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create_function_call_transaction\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ZkBlockParams\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_signer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PrivateKeyEthSigner\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction712 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Transaction712\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer_to_self")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://zkSync2-testnet.zkSync.dev'")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_PRIVATE_KEY'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    chain_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain_id\n    signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PrivateKeyEthSigner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_transaction_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMITTED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" create_function_call_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          ergs_price"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          ergs_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("HexStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gas_price "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gas_price\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Fee for transaction is: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx_712 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Transaction712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            nonce"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            gas_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toWei"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ether'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxPriorityFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eip712Meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    singed_message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sign_typed_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_eip712_struct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("singed_message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_raw_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_receipt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wait_for_transaction_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" poll_latency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"tx status: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    transfer_to_self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n")])])]),a("h2",{attrs:{id:"transfer-funds-erc20-tokens"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transfer-funds-erc20-tokens"}},[t._v("#")]),t._v(" Transfer funds (ERC20 tokens)")]),t._v(" "),a("p",[t._v("This example shows how to transfer ERC20 tokens into your account on the zkSync network.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request_types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create_function_call_transaction\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manage_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("erc20_contract "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ERC20FunctionEncoder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ZkBlockParams\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_signer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PrivateKeyEthSigner\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction712 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Transaction712\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer_erc20_token")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://zkSync2-testnet.zkSync.dev'")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_PRIVATE_KEY'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    chain_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain_id\n    signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PrivateKeyEthSigner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_transaction_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMITTED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tokens "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zks_get_confirmed_tokens"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    not_eth_tokens "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" tokens "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_eth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    token_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" not_eth_tokens"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("l2_address\n\n    erc20_encoder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ERC20FunctionEncoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    transfer_params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    call_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" erc20_encoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode_method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transfer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("transfer_params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" create_function_call_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("token_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          ergs_price"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          ergs_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("call_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gas_price "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gas_price\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Fee for transaction is: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx_712 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Transaction712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            nonce"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            gas_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxPriorityFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eip712Meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    singed_message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sign_typed_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_eip712_struct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("singed_message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_raw_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_receipt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wait_for_transaction_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" poll_latency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"tx status: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    transfer_erc20_token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n")])])]),a("h2",{attrs:{id:"withdrawing-funds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#withdrawing-funds"}},[t._v("#")]),t._v(" Withdrawing funds")]),t._v(" "),a("p",[t._v("This examples shows how to withdraw funds into your account.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" decimal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Decimal\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_typing "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HexStr\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request_types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create_function_call_transaction\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manage_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("l2_bridge "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" L2BridgeEncoder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" BridgeAddresses\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_signer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PrivateKeyEthSigner\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction712 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Transaction712\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withdraw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://zkSync2-testnet.zkSync.dev'")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_PRIVATE_KEY'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    chain_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain_id\n    signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PrivateKeyEthSigner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ETH_TOKEN "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_eth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_transaction_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMITTED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    bridges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" BridgeAddresses "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zks_get_bridge_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    l2_func_encoder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" L2BridgeEncoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    call_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" l2_func_encoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode_function"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"withdraw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ETH_TOKEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("l2_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ETH_TOKEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_int"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Decimal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.001"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" create_function_call_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bridges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("l2_eth_default_bridge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          ergs_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          ergs_price"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                          data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("HexStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("call_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gas_price "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gas_price\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Fee for transaction is: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx_712 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Transaction712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            nonce"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            gas_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxPriorityFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eip712Meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    singed_message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sign_typed_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_eip712_struct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("singed_message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_raw_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_receipt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wait_for_transaction_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" poll_latency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"tx status: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    withdraw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n")])])]),a("h2",{attrs:{id:"deploy-a-smart-contract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-a-smart-contract"}},[t._v("#")]),t._v(" Deploy a smart contract")]),t._v(" "),a("p",[t._v("With zkSync, you can deploy a contract using the "),a("code",[t._v("create")]),t._v(" method, by simply building the contract into a binary format and deploying it to the zkSync network.")]),t._v(" "),a("p",[t._v("In the next steps, we will guide you through how it works.")]),t._v(" "),a("h3",{attrs:{id:"step1-create-a-contract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step1-create-a-contract"}},[t._v("#")]),t._v(" Step1: Create a contract")]),t._v(" "),a("p",[t._v("Here is a simple contract:")]),t._v(" "),a("div",{staticClass:"language-solidity extra-class"},[a("pre",{pre:!0,attrs:{class:"language-solidity"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.8.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("contract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Counter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("blockquote",[a("p",[t._v("It must be compiled by zkSync compiler only!")])]),t._v(" "),a("p",[t._v("After compilation there must be 2 files with the:")]),t._v(" "),a("ul",[a("li",[t._v("contract binary representation")]),t._v(" "),a("li",[t._v("contract ABI in JSON format")])]),t._v(" "),a("h3",{attrs:{id:"step-2-deploy-the-contract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-2-deploy-the-contract"}},[t._v("#")]),t._v(" Step 2: Deploy the contract")]),t._v(" "),a("p",[t._v("To deploy the contract, contract ABI is needed for calling its methods in the standard "),a("code",[t._v("web3")]),t._v(" way.")]),t._v(" "),a("p",[t._v("In some cases, you would need to get the contract address before deploying it.")]),t._v(" "),a("p",[t._v("Here's an example of how you would do it.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_typing "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HexStr\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Web3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" TxParams\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request_types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create_contract_transaction\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manage_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contract_deployer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ContractDeployer\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manage_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nonce_holder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" NonceHolder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EthBlockParams\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_signer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PrivateKeyEthSigner\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction712 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Transaction712\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("read_binary")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" contact_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" contact_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_abi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" json_f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CounterContractEncoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bin_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" abi_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" web3\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter_contract "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("abi"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("get_abi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("abi_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                       bytecode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("read_binary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encode_method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" HexStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter_contract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encodeABI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deploy_contract_create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://zkSync2-testnet.zkSync.dev'")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_PRIVATE_KEY'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    chain_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain_id\n    signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PrivateKeyEthSigner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    counter_contract_bin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" read_binary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH_TO_BINARY_COMPILED_CONTRACT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_transaction_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EthBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PENDING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    nonce_holder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NonceHolder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    deployment_nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nonce_holder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_deployment_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    deployer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContractDeployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    precomputed_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" deployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compute_l2_create_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deployment_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"precomputed address: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("precomputed_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" create_contract_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("web3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                     from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                     ergs_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                     ergs_price"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                     bytecode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("counter_contract_bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gas_price "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gas_price\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Fee for transaction is: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx_712 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Transaction712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            nonce"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            gas_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxPriorityFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eip712Meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    singed_message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sign_typed_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_eip712_struct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("singed_message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_raw_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_receipt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wait_for_transaction_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" poll_latency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"tx status: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    contract_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contractAddress"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"contract address: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("contract_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    counter_contract_encoder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CounterContractEncoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH_TO_BINARY_COMPILED_CONTRACT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH_TO_CONTRACT_ABI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    call_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" counter_contract_encoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode_method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"get"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    eth_tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TxParams "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"from"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contract_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" call_data\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Value is type dependent so might need to be converted to corresponded type under Python")]),t._v("\n    eth_ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eth_tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMITTED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    converted_result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eth_ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"big"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" signed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Call method for deployed contract, address: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("contract_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", value: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("converted_result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    deploy_contract_create"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"deploy-a-smart-contract-with-create2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-a-smart-contract-with-create2"}},[t._v("#")]),t._v(" Deploy a smart contract with Create2")]),t._v(" "),a("p",[t._v("Using the "),a("a",{attrs:{href:"https://eips.ethereum.org/EIPS/eip-1014",target:"_blank",rel:"noopener noreferrer"}},[t._v("CREATE2"),a("OutboundLink")],1),t._v(" opcode gives you the ability to predict the address where a contract will be deployed, without ever having to do so, hence improving user onboarding.")]),t._v(" "),a("p",[t._v("Similar to the "),a("code",[t._v("create")]),t._v(" method above, here's the implementation on how you can deploy a contract using the "),a("code",[t._v("create2")]),t._v(" method on zkSync.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_typing "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HexStr\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Web3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" TxParams\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request_types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create2_contract_transaction\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manage_contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contract_deployer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ContractDeployer\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module_builder "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" zkSyncBuilder\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EthBlockParams\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Account\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" eth_account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LocalAccount\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_signer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PrivateKeyEthSigner\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" zkSync2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transaction712 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Transaction712\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Generate random salt(an arbitrary value provided by the sender)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generate_random_salt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urandom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Open the file")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("read_binary")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" contact_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" contact_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Get the contract ABI")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_abi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" json_f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CounterContractEncoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bin_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" abi_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" web3\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter_contract "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("abi"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("get_abi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("abi_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                       bytecode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("read_binary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encode_method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" HexStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter_contract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encodeABI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Deploy the contract")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deploy_contract_create2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://zkSync2-testnet.zkSync.dev'")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LocalAccount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_PRIVATE_KEY'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    zkSync_web3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSyncBuilder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ZKSYNC_NETWORK_URL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    chain_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain_id\n    signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PrivateKeyEthSigner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    counter_contract_bin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" read_binary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH_TO_BINARY_COMPILED_CONTRACT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_transaction_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EthBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PENDING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    deployer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContractDeployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    random_salt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generate_random_salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    precomputed_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" deployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compute_l2_create2_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sender"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                              bytecode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("counter_contract_bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                              constructor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("b''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                              salt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("random_salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"precomputed address: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("precomputed_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" create2_contract_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("web3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                      from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                      ergs_price"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                      ergs_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                      bytecode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("counter_contract_bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                      salt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("random_salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth_estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gas_price "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gas_price\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Fee for transaction is: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("estimate_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tx_712 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Transaction712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            nonce"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            gas_limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("estimate_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxPriorityFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            maxFeePerGas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            from_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eip712Meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    singed_message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sign_typed_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_eip712_struct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_712"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("singed_message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_raw_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tx_receipt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wait_for_transaction_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tx_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" poll_latency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"tx status: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    contract_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tx_receipt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contractAddress"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"contract address: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("contract_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    counter_contract_encoder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CounterContractEncoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CONTRACT_BIN_PATH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CONTRACT_ABI_PATH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    call_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" counter_contract_encoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode_method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"get"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    eth_tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TxParams "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"from"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contract_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" call_data\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    eth_ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zkSync_web3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zkSync"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eth_tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZkBlockParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMITTED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eth_ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"big"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" signed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Call method for deployed contract, address: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("contract_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", value: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    deploy_contract_create2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("⚠️ This section of the docs is still in progress and will be updated with more detailed information soon.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);